# ИНСТРУКЦИЯ ПО УСТАНОВКЕ И ЗАПУСКУ TELEGRAM-БОТА МАГАЗИНА

## ЧТО ДЕЛАЕТ ЭТОТ БОТ?

Этот бот представляет собой простой магазин в Telegram, где пользователи могут:
- Просматривать товары в каталоге
- Добавлять товары в корзину
- Оформлять заказы
- Администратор получает уведомления о новых заказах

## УСТАНОВКА НА WINDOWS

### Шаг 1: Установка Python

1. Скачайте Python 3.10 с официального сайта: https://www.python.org/downloads/release/python-31011/
   (Прокрутите страницу вниз и выберите "Windows installer (64-bit)")

2. Запустите скачанный файл установки
   - Обязательно поставьте галочку "Add Python to PATH"
   - Нажмите "Install Now"

3. Дождитесь завершения установки

### Шаг 2: Скачивание файлов бота

1. Создайте на компьютере папку для бота, например, C:\TelegramBot

2. Сохраните файл `telegram_shop_bot.py` в эту папку 

### Шаг 3: Установка необходимых библиотек

1. Откройте командную строку Windows:
   - Нажмите Win+R
   - Введите cmd и нажмите Enter

2. В открывшейся командной строке перейдите в папку с ботом:
   ```
   cd C:\TelegramBot
   ```

3. Установите необходимые библиотеки, введя команду:
   ```
   pip install aiogram==3.0.0
   ```

### Шаг 4: Получение токена Telegram-бота

1. Откройте Telegram и найдите бота @BotFather

2. Отправьте сообщение /newbot

3. Следуйте инструкциям BotFather:
   - Введите название бота
   - Введите имя пользователя для бота (должно заканчиваться на "bot")

4. BotFather пришлет вам токен вида 1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ

5. Скопируйте этот токен

### Шаг 5: Настройка бота

1. Откройте файл `telegram_shop_bot.py` в текстовом редакторе Блокнот:
   - Найдите строку `API_TOKEN = 'YOUR_TELEGRAM_BOT_TOKEN'`
   - Замените 'YOUR_TELEGRAM_BOT_TOKEN' на ваш токен от BotFather

2. Чтобы узнать свой ID (для админа):
   - Найдите в Telegram бота @userinfobot
   - Отправьте ему любое сообщение
   - Он ответит вам ваш ID
   
3. Вернитесь в файл `telegram_shop_bot.py`:
   - Найдите строку `ADMIN_ID = 12345678`
   - Замените 12345678 на ваш ID из предыдущего шага
   
4. Сохраните изменения в файле

### Шаг 6: Запуск бота

1. Откройте командную строку Windows (если закрыли):
   - Нажмите Win+R
   - Введите cmd и нажмите Enter

2. Перейдите в папку с ботом:
   ```
   cd C:\TelegramBot
   ```

3. Запустите бота, введя команду:
   ```
   python telegram_shop_bot.py
   ```

4. Если все сделано правильно, в командной строке появится информация о запуске бота

5. Теперь перейдите в Telegram и найдите вашего бота по имени пользователя, которое вы задали в BotFather

6. Отправьте боту команду /start и начните использовать

7. Чтобы остановить бота, вернитесь в командную строку и нажмите Ctrl+C

## УСТАНОВКА НА LINUX

### Шаг 1: Установка Python

1. Откройте терминал (обычно Ctrl+Alt+T)

2. Обновите список пакетов:
   ```
   sudo apt update
   ```

3. Установите Python 3.10:
   ```
   sudo apt install python3.10 python3.10-venv python3-pip
   ```

### Шаг 2: Создание папки для бота

1. Создайте папку для бота:
   ```
   mkdir ~/telegram_bot
   ```

2. Перейдите в эту папку:
   ```
   cd ~/telegram_bot
   ```

### Шаг 3: Создание файла с кодом бота

1. Запустите текстовый редактор для создания файла:
   ```
   nano telegram_shop_bot.py
   ```

2. Вставьте в открывшийся редактор код бота (содержимое файла telegram_shop_bot.py)

3. Сохраните файл, нажав Ctrl+O, затем Enter, и выйдите из редактора, нажав Ctrl+X

### Шаг 4: Установка необходимых библиотек

1. Находясь в папке с ботом, выполните команду:
   ```
   pip3 install aiogram==3.0.0
   ```

### Шаг 5: Получение токена Telegram-бота

1. Откройте Telegram и найдите бота @BotFather

2. Отправьте сообщение /newbot

3. Следуйте инструкциям BotFather:
   - Введите название бота
   - Введите имя пользователя для бота (должно заканчиваться на "bot")

4. BotFather пришлет вам токен вида 1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ

5. Скопируйте этот токен

### Шаг 6: Настройка бота

1. Откройте файл бота в редакторе:
   ```
   nano telegram_shop_bot.py
   ```

2. Найдите строку `API_TOKEN = 'YOUR_TELEGRAM_BOT_TOKEN'`

3. Замените 'YOUR_TELEGRAM_BOT_TOKEN' на ваш токен от BotFather

4. Чтобы узнать свой ID (для админа):
   - Найдите в Telegram бота @userinfobot
   - Отправьте ему любое сообщение
   - Он ответит вам ваш ID
   
5. Найдите строку `ADMIN_ID = 12345678`

6. Замените 12345678 на ваш ID из предыдущего шага

7. Сохраните изменения, нажав Ctrl+O, затем Enter, и выйдите из редактора, нажав Ctrl+X

### Шаг 7: Запуск бота

1. Находясь в папке с ботом, выполните команду:
   ```
   python3 telegram_shop_bot.py
   ```

2. Если все сделано правильно, в терминале появится информация о запуске бота

3. Теперь перейдите в Telegram и найдите вашего бота по имени пользователя, которое вы задали в BotFather

4. Отправьте боту команду /start и начните использовать

5. Чтобы остановить бота, вернитесь в терминал и нажмите Ctrl+C

## ДОПОЛНИТЕЛЬНО: КАК СДЕЛАТЬ, ЧТОБЫ БОТ РАБОТАЛ ПОСТОЯННО

### На Windows:

1. Создайте файл `start_bot.bat` в той же папке, где находится `telegram_shop_bot.py`

2. Откройте этот файл в Блокноте и добавьте в него строку:
   ```
   python telegram_shop_bot.py
   ```

3. Сохраните файл
   
4. Теперь вы можете запустить бота, просто дважды кликнув на файл `start_bot.bat`

### На Linux:

1. Установите программу screen:
   ```
   sudo apt install screen
   ```

2. Запустите новую сессию screen:
   ```
   screen -S telegram_bot
   ```

3. Запустите бота:
   ```
   python3 telegram_shop_bot.py
   ```

4. Нажмите Ctrl+A, затем D, чтобы отсоединиться от сессии screen (бот продолжит работать)

5. Чтобы вернуться к боту позже, введите:
   ```
   screen -r telegram_bot
   ```

## ВОЗМОЖНЫЕ ПРОБЛЕМЫ И ИХ РЕШЕНИЯ

1. **Ошибка "ModuleNotFoundError: No module named 'aiogram'"**
   - Попробуйте установить библиотеку снова: `pip install aiogram==3.0.0` (Windows) или `pip3 install aiogram==3.0.0` (Linux)

2. **Бот не отвечает после запуска**
   - Проверьте, правильно ли вы ввели токен от BotFather
   - Убедитесь, что интернет-соединение работает
   - Проверьте, нет ли ошибок в командной строке/терминале

3. **Ошибка "sqlite3.OperationalError: unable to open database file"**
   - Убедитесь, что у вас есть права на запись в папку с ботом
   - На Linux может потребоваться выполнить: `chmod 755 ~/telegram_bot`

4. **Другие ошибки**
   - Скопируйте текст ошибки из командной строки/терминала
   - Воспользуйтесь поиском в интернете или спросите у специалиста